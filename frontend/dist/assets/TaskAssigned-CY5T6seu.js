import{_ as g,u as k}from"./index-Djdf6BKf.js";import{r as p,o as m,b as d,p as t,J as y,s as f,g as v,f as n}from"./vendor-COruVTVJ.js";import x from"./TaskBoard-CUgsPnDf.js";const b={class:"employee-task-page min-h-screen bg-gray-50 py-8"},h={class:"container mx-auto px-4"},_={key:0,class:"flex justify-center items-center py-12"},w={key:2,class:"text-center py-12 bg-white rounded-lg shadow-lg"},T={__name:"TaskAssigned",setup(A){k();const o=p([]),r=p(!1);async function i(){var l,s,c,u;r.value=!0;try{const e=await v.get("/api/tasks"),a=e.data.tasks||e.data.data||e.data;o.value=Array.isArray(a)?a:[],console.log("Fetched tasks:",o.value.length,"tasks")}catch(e){console.error("Failed to fetch tasks:",e);let a="Failed to load your tasks. Please try again.";((l=e.response)==null?void 0:l.status)===401?a="Session expired. Please login again.":((s=e.response)==null?void 0:s.status)===403?a="You do not have permission to view tasks.":(u=(c=e.response)==null?void 0:c.data)!=null&&u.message&&(a=e.response.data.message),alert(`Error: ${a}`),o.value=[]}finally{r.value=!1}}return m(async()=>{await i()}),(l,s)=>(n(),d("div",b,[t("div",h,[s[2]||(s[2]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 mb-4"},"My Tasks ðŸ“‹"),t("p",{class:"text-gray-600"},"View and manage your assigned tasks.")],-1)),r.value?(n(),d("div",_,[...s[0]||(s[0]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-t-4 border-blue-500 border-opacity-25 border-t-blue-500"},null,-1),t("p",{class:"ml-4 text-lg text-gray-600"},"Loading tasks...",-1)])])):(n(),y(x,{key:1,tasks:o.value,"employee-view":!0,onTaskUpdated:i,class:"mb-8"},null,8,["tasks"])),!r.value&&o.value.length===0?(n(),d("div",w,[...s[1]||(s[1]=[t("p",{class:"text-xl text-gray-500"},"ðŸŽ‰ You have no tasks assigned at the moment. Enjoy the break!",-1)])])):f("",!0)])]))}},F=g(T,[["__scopeId","data-v-df94368b"]]);export{F as default};
