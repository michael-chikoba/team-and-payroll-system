import{_ as h,u as b}from"./index-cgHGa_Rg.js";import{r as v,o as f,b as r,p as e,s as k,q as p,t as x,a as y,g as w,u as _,f as i}from"./vendor-CFHPe_rb.js";import{T as M}from"./TaskBoard-CMYK3-da.js";const T={class:"employee-task-page"},A={class:"relative z-10 min-h-screen py-8 px-4 sm:px-6 lg:px-8"},j={class:"max-w-6xl mx-auto"},B={class:"mb-8 flex justify-center"},V=["disabled"],H={key:0,class:"w-5 h-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},C={key:1,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},N={key:0,class:"loading-container"},S={key:1,class:"task-board-section"},E={class:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden"},F={class:"p-8 min-h-[600px]"},R={key:2,class:"empty-state"},Y={__name:"TaskAssigned",setup(D){const g=b(),m=_(),n=v([]),o=v(!1);async function d(){var l,s,c,u;o.value=!0;try{const t=await w.get("/api/tasks"),a=t.data.tasks||t.data.data||t.data;n.value=Array.isArray(a)?a:[],console.log("Fetched tasks:",n.value.length,"tasks")}catch(t){console.error("Failed to fetch tasks:",t);let a="Failed to load your tasks. Please try again.";((l=t.response)==null?void 0:l.status)===401?(a="Session expired. Please login again.",g.clearAuth(),m.push("/login")):((s=t.response)==null?void 0:s.status)===403?a="You do not have permission to view tasks.":(u=(c=t.response)==null?void 0:c.data)!=null&&u.message&&(a=t.response.data.message),console.error(`Error: ${a}`),n.value=[]}finally{o.value=!1}}return f(async()=>{await d()}),(l,s)=>(i(),r("div",T,[s[6]||(s[6]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"},null,-1)),e("div",A,[e("div",j,[s[5]||(s[5]=k('<div class="mb-8 text-center" data-v-db5892bf><div class="flex items-center justify-center mb-4" data-v-db5892bf><div class="p-3 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl shadow-lg mr-4" data-v-db5892bf><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-db5892bf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" data-v-db5892bf></path></svg></div><div data-v-db5892bf><h1 class="text-4xl font-bold bg-gradient-to-r from-gray-900 via-indigo-600 to-purple-700 bg-clip-text text-transparent" data-v-db5892bf> My Tasks </h1><p class="text-gray-600 mt-2 text-lg" data-v-db5892bf>View and manage your assigned tasks efficiently.</p></div></div></div>',1)),e("div",B,[e("button",{onClick:d,disabled:o.value,class:"inline-flex items-center px-6 py-3 bg-white border-2 border-indigo-200 text-indigo-700 font-semibold rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:bg-indigo-50 disabled:opacity-50 disabled:cursor-not-allowed"},[o.value?(i(),r("svg",H,[...s[0]||(s[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(i(),r("svg",C,[...s[1]||(s[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),p(" "+x(o.value?"Refreshing...":"Refresh Tasks"),1)],8,V)]),o.value?(i(),r("div",N,[...s[2]||(s[2]=[e("div",{class:"flex flex-col items-center justify-center p-12 text-center"},[e("div",{class:"spinner mb-4"}),e("p",{class:"text-lg text-gray-600"},"Loading your tasks...")],-1)])])):n.value.length>0?(i(),r("div",S,[e("div",E,[s[3]||(s[3]=e("div",{class:"p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50"},[e("h2",{class:"text-xl font-semibold text-gray-800 flex items-center justify-center"},[e("svg",{class:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})]),p(" Your Active Tasks ")])],-1)),e("div",F,[y(M,{tasks:n.value,"employee-view":!0,onTaskUpdated:d,class:"w-full"},null,8,["tasks"])])])])):(i(),r("div",R,[...s[4]||(s[4]=[e("div",{class:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center"},[e("div",{class:"empty-icon mb-6"},"ðŸŽ‰"),e("h3",{class:"text-2xl font-semibold text-gray-800 mb-2"},"No Tasks Assigned"),e("p",{class:"text-gray-600 text-lg"},"You have no tasks at the moment. Enjoy the break!")],-1)])]))])])]))}},I=h(Y,[["__scopeId","data-v-db5892bf"]]);export{I as default};
