import{b as m,p as o,v as c,x as l,y as i,A as w,B as v,q as n,z as y,a as b,w as k,e as N,r as u,u as P,f}from"./vendor-CFHPe_rb.js";import{_ as x,u as C}from"./index-cgHGa_Rg.js";const A={name:"Register",setup(){const d=C(),e=P(),a=u({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"",agreeTerms:!1}),r=u(!1);return{form:a,loading:r,handleRegister:async()=>{var t;if(a.value.password!==a.value.confirmPassword){alert("Passwords do not match!");return}if(!a.value.agreeTerms){alert("Please agree to the terms and conditions");return}r.value=!0;try{switch(await d.register(a.value),((t=d.user)==null?void 0:t.role)||"employee"){case"admin":await e.push("/admin/dashboard");break;case"manager":await e.push("/manager/dashboard");break;default:await e.push("/employee/dashboard")}}catch(s){console.error("Registration failed:",s),alert("Registration failed. Please try again.")}finally{r.value=!1}},fillDemo:t=>{const s={employee:{firstName:"John",lastName:"Employee",email:"employee@payroll.com",password:"password",confirmPassword:"password",role:"employee",agreeTerms:!0},manager:{firstName:"Sarah",lastName:"Manager",email:"manager@payroll.com",password:"password",confirmPassword:"password",role:"manager",agreeTerms:!0},admin:{firstName:"Admin",lastName:"User",email:"admin@payroll.com",password:"password",confirmPassword:"password",role:"admin",agreeTerms:!0}};a.value={...s[t]}}}}},h={class:"register-page"},T={class:"register-container"},D={class:"form-row"},V={class:"form-group"},R={class:"form-group"},S={class:"form-group"},q={class:"form-group"},E={class:"form-group"},U={class:"form-group"},M={class:"form-group checkbox-group"},B=["disabled"],_={key:0},z={key:1},I={class:"register-footer"},F={class:"login-link"},J={class:"demo-links"},L={class:"demo-buttons"};function Q(d,e,a,r,p,g){const t=N("router-link");return f(),m("div",h,[o("div",T,[e[22]||(e[22]=o("div",{class:"register-header"},[o("h1",null,"Create Account"),o("p",{class:"subtitle"},"Sign up for your payroll account")],-1)),o("form",{onSubmit:e[7]||(e[7]=c((...s)=>r.handleRegister&&r.handleRegister(...s),["prevent"])),class:"register-form"},[o("div",D,[o("div",V,[e[11]||(e[11]=o("label",{for:"firstName"},"First Name",-1)),l(o("input",{id:"firstName","onUpdate:modelValue":e[0]||(e[0]=s=>r.form.firstName=s),type:"text",required:"",placeholder:"Enter your first name",class:"form-input"},null,512),[[i,r.form.firstName]])]),o("div",R,[e[12]||(e[12]=o("label",{for:"lastName"},"Last Name",-1)),l(o("input",{id:"lastName","onUpdate:modelValue":e[1]||(e[1]=s=>r.form.lastName=s),type:"text",required:"",placeholder:"Enter your last name",class:"form-input"},null,512),[[i,r.form.lastName]])])]),o("div",S,[e[13]||(e[13]=o("label",{for:"email"},"Email Address",-1)),l(o("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=s=>r.form.email=s),type:"email",required:"",placeholder:"Enter your email",class:"form-input"},null,512),[[i,r.form.email]])]),o("div",q,[e[14]||(e[14]=o("label",{for:"password"},"Password",-1)),l(o("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=s=>r.form.password=s),type:"password",required:"",placeholder:"Create a password",class:"form-input"},null,512),[[i,r.form.password]])]),o("div",E,[e[15]||(e[15]=o("label",{for:"confirmPassword"},"Confirm Password",-1)),l(o("input",{id:"confirmPassword","onUpdate:modelValue":e[4]||(e[4]=s=>r.form.confirmPassword=s),type:"password",required:"",placeholder:"Confirm your password",class:"form-input"},null,512),[[i,r.form.confirmPassword]])]),o("div",U,[e[17]||(e[17]=o("label",{for:"role"},"Account Type",-1)),l(o("select",{id:"role","onUpdate:modelValue":e[5]||(e[5]=s=>r.form.role=s),required:"",class:"form-input"},[...e[16]||(e[16]=[o("option",{value:""},"Select your role",-1),o("option",{value:"employee"},"Employee",-1),o("option",{value:"manager"},"Manager",-1),o("option",{value:"admin"},"Administrator",-1)])],512),[[w,r.form.role]])]),o("div",M,[l(o("input",{id:"terms","onUpdate:modelValue":e[6]||(e[6]=s=>r.form.agreeTerms=s),type:"checkbox",required:"",class:"checkbox-input"},null,512),[[v,r.form.agreeTerms]]),e[18]||(e[18]=o("label",{for:"terms",class:"checkbox-label"},[n(" I agree to the "),o("a",{href:"#",class:"link"},"Terms of Service"),n(" and "),o("a",{href:"#",class:"link"},"Privacy Policy")],-1))]),o("button",{type:"submit",class:y(["register-btn",{loading:r.loading}]),disabled:r.loading},[r.loading?(f(),m("span",z,"Creating Account...")):(f(),m("span",_,"Create Account"))],10,B)],32),o("div",I,[o("p",F,[e[20]||(e[20]=n(" Already have an account? ",-1)),b(t,{to:"/auth/login",class:"link"},{default:k(()=>[...e[19]||(e[19]=[n("Sign in here",-1)])]),_:1})]),o("div",J,[e[21]||(e[21]=o("p",{class:"demo-title"},"Quick Demo Accounts:",-1)),o("div",L,[o("button",{onClick:e[8]||(e[8]=s=>r.fillDemo("employee")),class:"demo-btn employee"},"Employee Demo"),o("button",{onClick:e[9]||(e[9]=s=>r.fillDemo("manager")),class:"demo-btn manager"},"Manager Demo"),o("button",{onClick:e[10]||(e[10]=s=>r.fillDemo("admin")),class:"demo-btn admin"},"Admin Demo")])])])])])}const H=x(A,[["render",Q],["__scopeId","data-v-dd943301"]]);export{H as default};
