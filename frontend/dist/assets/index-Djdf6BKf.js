const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AuthLayout-C4JwPYKY.js","assets/vendor-COruVTVJ.js","assets/AuthLayout-BAbiM2qX.css","assets/Login-BI5ppMq3.js","assets/Login-BNlXBTcO.css","assets/Register-C6OSoSZP.js","assets/Register-HnCMei_d.css","assets/ForgotPassword-Dr2tu0VN.js","assets/ForgotPassword-JgkzK2KZ.css","assets/ResetPassword-DLULn8em.js","assets/ResetPassword-BN1Ks_H0.css","assets/EmployeeLayout-CdXfQ7W1.js","assets/EmployeeLayout-CRGuWouJ.css","assets/Dashboard-BZSqFy6d.js","assets/Dashboard-YSs4SxrT.css","assets/Attendance-Umui2LRj.js","assets/Attendance-Bw1MoWsx.css","assets/Leaves-PeU9M4ib.js","assets/Leaves-B_O10UmU.css","assets/ApplyLeave-74lcRtkv.js","assets/ApplyLeave-CzXfLuAy.css","assets/Payslips-9Kx_tAAv.js","assets/Payslips-D0b4Nitz.css","assets/Profile-B1aedqOH.js","assets/Profile-CoyZpLnu.css","assets/TaskBoard-CUgsPnDf.js","assets/TaskBoard-CbATKGrZ.css","assets/ManagerLayout-D5AEi0c0.js","assets/ManagerLayout-C6IuUusX.css","assets/Dashboard-CjLkeQPO.js","assets/Dashboard-YIixf_SO.css","assets/EmployeeList-Ds1Nu_Xm.js","assets/EmployeeList-DiPbTlFN.css","assets/AttendanceMonitor-bKIqlMkm.js","assets/AttendanceMonitor-C7w4JTeG.css","assets/LeaveApprovals-LzcL9vW-.js","assets/LeaveApprovals-Da5SNGAG.css","assets/TeamReports-C5GUWTBF.js","assets/TeamReports-DPiZmIch.css","assets/ProductivityMonitor-B-UjjzX0.js","assets/ProductivityMonitor-BJ0LDHj_.css","assets/TaskForm-BkvFuA20.js","assets/TaskForm-CkBFnYpQ.css","assets/AdminLayout-Dc9VQZpG.js","assets/AdminLayout-CFONX6Ja.css","assets/Dashboard-DLB1nccL.js","assets/Dashboard-Dkkct8MS.css","assets/EmployeeManagement-Cudgp3m8.js","assets/EmployeeManagement-CDqQyEuO.css","assets/PayrollProcessing-BKacdVXa.js","assets/PayrollProcessing-BZin0H2P.css","assets/PayslipGeneration-DrYRLn_U.js","assets/PayslipGeneration-Bccn58E-.css","assets/TaxConfiguration-BRYReFae.js","assets/TaxConfiguration-BHBSVDIe.css","assets/Reports-Cj84QLjA.js","assets/Reports-Cn5uRqXf.css","assets/AuditLogs-CcZn6ydA.js","assets/AuditLogs-BQqKf3l6.css","assets/LeaveManagement-BkhQR8JD.js","assets/LeaveManagement-ChnAdVW0.css","assets/AttendanceMonitor-B8iF178L.js","assets/AttendanceMonitor-Dl5xG9Xp.css","assets/Settings-Bt7hQxv9.js","assets/Settings-D3Zlc7Ti.css","assets/Unauthorized-akrdceRY.js","assets/Unauthorized-CjVdvr7g.css","assets/TaskAssigned-CY5T6seu.js","assets/TaskAssigned-C2dbdveA.css","assets/NotFound-DTGAnvTL.js","assets/NotFound-DhzjMYmC.css"])))=>i.map(i=>d[i]);
import{d as se,r as x,c as y,o as le,a as v,T as ce,m as ue,F as K,i as pe,b as de,e as me,f as fe,g,h as _e,u as he,j as ve,k as ye,l as ge,n as Ee}from"./vendor-COruVTVJ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();(function(){var e;try{if(typeof document<"u"){var t=document.createElement("style");t.nonce=(e=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:e.content,t.appendChild(document.createTextNode(".vue-notification-group{display:block;position:fixed;z-index:5000}.vue-notification-wrapper{display:block;overflow:hidden;width:100%;margin:0;padding:0}.notification-title{font-weight:600}.vue-notification-template{display:block;box-sizing:border-box;background:#fff;text-align:left}.vue-notification{display:block;box-sizing:border-box;text-align:left;font-size:12px;padding:10px;margin:0 5px 5px;color:#fff;background:#44a4fc;border-left:5px solid #187FE7}.vue-notification.warn{background:#ffb648;border-left-color:#f48a06}.vue-notification.error{background:#e54d42;border-left-color:#b82e24}.vue-notification.success{background:#68cd86;border-left-color:#42a85f}.vn-fade-enter-active,.vn-fade-leave-active,.vn-fade-move{transition:all .5s}.vn-fade-enter-from,.vn-fade-leave-to{opacity:0}")),document.head.appendChild(t)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();const J=new Map;function Ae(e){return{all:e=e||new Map,on:function(t,o){var r=e.get(t);r?r.push(o):e.set(t,[o])},off:function(t,o){var r=e.get(t);r&&(o?r.splice(r.indexOf(o)>>>0,1):e.set(t,[]))},emit:function(t,o){var r=e.get(t);r&&r.slice().map(function(a){a(o)}),(r=e.get("*"))&&r.slice().map(function(a){a(t,o)})}}}const I=Ae(),N="[-+]?[0-9]*.?[0-9]+",W=[{name:"px",regexp:new RegExp(`^${N}px$`)},{name:"%",regexp:new RegExp(`^${N}%$`)},{name:"px",regexp:new RegExp(`^${N}$`)}],Re=e=>{if(e==="auto")return{type:e,value:0};for(let t=0;t<W.length;t++){const o=W[t];if(o.regexp.test(e))return{type:o.name,value:parseFloat(e)}}return{type:"",value:e}},be=e=>{switch(typeof e){case"number":return{type:"px",value:e};case"string":return Re(e);default:return{type:"",value:e}}},Y={x:new Set(["left","center","right"]),y:new Set(["top","bottom"])},Pe=(e=>()=>e++)(0),Le=e=>typeof e!="string"?[]:e.split(/\s+/gi).filter(Boolean),Oe=e=>{typeof e=="string"&&(e=Le(e));let t=null,o=null;return e.forEach(r=>{Y.y.has(r)&&(o=r),Y.x.has(r)&&(t=r)}),{x:t,y:o}},M={position:["top","right"],cssAnimation:"vn-fade",velocityAnimation:{enter:e=>({height:[e.clientHeight,0],opacity:[1,0]}),leave:{height:0,opacity:[0,1]}}},Te=(e,t)=>{let o,r,a=t;const l=()=>{r=Date.now(),o=setTimeout(e,a)},u=()=>{clearTimeout(o),a-=Date.now()-r};return l(),{start:l,stop:u}};function we(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!pe(e)}const k={IDLE:0,DESTROYED:2},De=se({name:"notifications",props:{group:{type:String,default:""},width:{type:[Number,String],default:300},reverse:{type:Boolean,default:!1},position:{type:[String,Array],default:()=>M.position},classes:{type:[String,Array],default:"vue-notification"},animationType:{type:String,default:"css",validator(e){return e==="css"||e==="velocity"}},animation:{type:Object,default(){return M.velocityAnimation}},animationName:{type:String,default:M.cssAnimation},speed:{type:Number,default:300},duration:{type:Number,default:3e3},delay:{type:Number,default:0},max:{type:Number,default:1/0},ignoreDuplicates:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1},dangerouslySetInnerHtml:{type:Boolean,default:!1}},emits:{click:e=>!0,destroy:e=>!0,start:e=>!0},slots:Object,setup:(e,{emit:t,slots:o,expose:r})=>{const a=x([]),l=J.get("velocity"),u=y(()=>e.animationType==="velocity"),p=y(()=>a.value.filter(n=>n.state!==k.DESTROYED)),_=y(()=>be(e.width)),h=y(()=>{const{x:n,y:i}=Oe(e.position),f=_.value.value,A=_.value.type,L={width:f+A};return i&&(L[i]="0px"),n&&(n==="center"?L.left=`calc(50% - ${+f/2}${A})`:L[n]="0px"),L}),b=y(()=>u.value?{onEnter:ee,onLeave:te,onAfterLeave:U}:{}),m=n=>{t("click",n),e.closeOnClick&&E(n)},T=n=>{var i;e.pauseOnHover&&((i=n.timer)==null||i.stop())},w=n=>{var i;e.pauseOnHover&&((i=n.timer)==null||i.start())},V=(n={})=>{if(n.group||(n.group=""),n.data||(n.data={}),e.group!==n.group)return;if(n.clean||n.clear){d();return}const i=typeof n.duration=="number"?n.duration:e.duration,f=typeof n.speed=="number"?n.speed:e.speed,A=typeof n.ignoreDuplicates=="boolean"?n.ignoreDuplicates:e.ignoreDuplicates,{title:L,text:oe,type:ne,data:re,id:ae}=n,P={id:ae||Pe(),title:L,text:oe,type:ne,state:k.IDLE,speed:f,length:i+2*f,data:re,duplicates:0};i>=0&&(P.timer=Te(()=>E(P),P.length));const z="bottom"in h.value,ie=e.reverse?!z:z;let D=-1;const H=p.value.find(X=>X.title===n.title&&X.text===n.text);if(A&&H){H.duplicates++;return}ie?(a.value.push(P),t("start",P),p.value.length>e.max&&(D=0)):(a.value.unshift(P),t("start",P),p.value.length>e.max&&(D=p.value.length-1)),D!==-1&&E(p.value[D])},C=n=>{c(n)},$=n=>["vue-notification-template",e.classes,n.type||""],j=n=>u.value?void 0:{transition:`all ${n.speed}ms`},E=n=>{var i;(i=n.timer)==null||i.stop(),n.state=k.DESTROYED,U(),t("destroy",n)},c=n=>{const i=a.value.find(f=>f.id===n);i&&E(i)},d=()=>{p.value.forEach(E)},B=(n,i)=>{var f;const A=(f=e.animation)==null?void 0:f[n];return typeof A=="function"?A(i):A},ee=(n,i)=>{const f=B("enter",n);l(n,f,{duration:e.speed,complete:i})},te=(n,i)=>{const f=B("leave",n);l(n,f,{duration:e.speed,complete:i})};function U(){a.value=a.value.filter(n=>n.state!==k.DESTROYED)}return le(()=>{I.on("add",V),I.on("close",C)}),()=>{let n;return v("div",{class:"vue-notification-group",style:h.value},[v(ce,ue(b.value,{tag:"div",css:!u.value,name:e.animationName}),we(n=p.value.map(i=>v("div",{key:i.id,class:"vue-notification-wrapper",style:j(i),"data-id":i.id,onMouseenter:()=>T(i),onMouseleave:()=>w(i)},[o.body?o.body({item:i,class:[e.classes,i.type],close:()=>E(i)}):v("div",{class:$(i),onClick:()=>m(i)},[e.dangerouslySetInnerHtml?v(K,null,[i.title?v("div",{class:"notification-title",innerHTML:i.title},null):null,v("div",{class:"notification-content",innerHTML:i.text},null)]):v(K,null,[i.title?v("div",{class:"notification-title"},[i.title]):null,v("div",{class:"notification-content"},[i.text])])])])))?n:{default:()=>[n]})])}}}),Q=e=>{typeof e=="string"&&(e={title:"",text:e}),typeof e=="object"&&I.emit("add",e)};Q.close=e=>{I.emit("close",e)};const ke="Notifications";function xe(e,t={}){Object.entries(t).forEach(r=>J.set(...r));const o=t.name||"notify";e.config.globalProperties["$"+o]=Q,e.component(t.componentName||ke,De)}const Ie={install:xe},Se=(e,t)=>{const o=e.__vccOpts||e;for(const[r,a]of t)o[r]=a;return o},Ve={name:"App",created(){console.log("App initialized successfully")}},Ce={id:"app"};function $e(e,t,o,r,a,l){const u=me("router-view");return fe(),de("div",Ce,[v(u)])}const je=Se(Ve,[["render",$e]]),Ne="modulepreload",Me=function(e){return"/"+e},G={},s=function(t,o,r){let a=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=Promise.allSettled(o.map(_=>{if(_=Me(_),_ in G)return;G[_]=!0;const h=_.endsWith(".css"),b=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${b}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":Ne,h||(m.as="script"),m.crossOrigin="",m.href=_,p&&m.setAttribute("nonce",p),document.head.appendChild(m),h)return new Promise((T,w)=>{m.addEventListener("load",T),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${_}`)))})}))}function l(u){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u}return a.then(u=>{for(const p of u||[])p.status==="rejected"&&l(p.reason);return t().catch(l)})},Z="https://archangel.darth.cloud",R=g.create({baseURL:`${Z}/api`,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});R.interceptors.request.use(async e=>{var o,r;const t=q();if(t.token&&(e.headers.Authorization=`Bearer ${t.token}`),["post","put","patch","delete"].includes((o=e.method)==null?void 0:o.toLowerCase())){document.cookie.includes("XSRF-TOKEN")||await g.get(`${Z}/sanctum/csrf-cookie`,{withCredentials:!0});const a=(r=document.cookie.split("; ").find(l=>l.startsWith("XSRF-TOKEN=")))==null?void 0:r.split("=")[1];a&&(e.headers["X-XSRF-TOKEN"]=decodeURIComponent(a))}return e},e=>Promise.reject(e));R.interceptors.response.use(e=>e,e=>{var t,o,r,a;return((t=e.response)==null?void 0:t.status)===401&&(q().clearAuth(),window.location.href="/login"),((o=e.response)==null?void 0:o.status)===419&&(document.cookie.split(";").forEach(l=>{document.cookie=l.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),console.error("CSRF token mismatch. Please refresh and try again.")),((r=e.response)==null?void 0:r.status)===403&&console.error("Access forbidden:",e.response.data.message),((a=e.response)==null?void 0:a.status)===500&&console.error("Server error. Please try again later."),Promise.reject(e)});const O={login(e){return R.post("/login",e)},register(e){return R.post("/register",e)},logout(){return R.post("/logout")},getUser(){return R.get("/user")},forgotPassword(e){return R.post("/forgot-password",e)},resetPassword(e){return R.post("/reset-password",e)}},q=_e("auth",()=>{const e=he(),t=x(null),o=x(localStorage.getItem("token")),r=x(!1),a=y(()=>!!o.value&&!!t.value),l=y(()=>{var c;return(c=t.value)==null?void 0:c.role}),u=y(()=>l.value==="admin"),p=y(()=>l.value==="manager"),_=y(()=>l.value==="employee");function h(c){c?(g.defaults.headers.common.Authorization=`Bearer ${c}`,g.defaults.headers.common.Accept="application/json",g.defaults.headers.common["Content-Type"]="application/json"):delete g.defaults.headers.common.Authorization}function b(c,d){t.value=c,o.value=d,localStorage.setItem("token",d),h(d)}function m(){t.value=null,o.value=null,localStorage.removeItem("token"),h(null)}function T(c){return t.value?Array.isArray(c)?c.includes(t.value.role):t.value.role===c:!1}async function w(c){try{r.value=!0;const d=await O.login(c);return b(d.data.user,d.data.token),d}catch(d){throw m(),d}finally{r.value=!1}}async function V(c){try{r.value=!0;const d=await O.register(c);return b(d.data.user,d.data.token),d}catch(d){throw m(),d}finally{r.value=!1}}async function C(){try{await O.logout()}catch(c){console.error("Logout error:",c)}finally{m(),e.push({name:"login"})}}async function $(){if(o.value)try{const c=await O.getUser();t.value=c.data.user}catch(c){throw m(),c}}async function j(c){return await O.forgotPassword({email:c})}async function E(c){return await O.resetPassword(c)}return o.value&&h(o.value),{user:t,token:o,isLoading:r,isAuthenticated:a,userRole:l,isAdmin:u,isManager:p,isEmployee:_,setAuth:b,clearAuth:m,hasRole:T,login:w,register:V,logout:C,fetchUser:$,forgotPassword:j,resetPassword:E}}),qe=[{path:"/auth",component:()=>s(()=>import("./AuthLayout-C4JwPYKY.js"),__vite__mapDeps([0,1,2])),meta:{guestOnly:!0},children:[{path:"",name:"AuthHome",redirect:"/auth/login"},{path:"login",name:"Login",component:()=>s(()=>import("./Login-BI5ppMq3.js"),__vite__mapDeps([3,1,4]))},{path:"register",name:"Register",component:()=>s(()=>import("./Register-C6OSoSZP.js"),__vite__mapDeps([5,1,6]))},{path:"forgot-password",name:"ForgotPassword",component:()=>s(()=>import("./ForgotPassword-Dr2tu0VN.js"),__vite__mapDeps([7,1,8]))},{path:"reset-password/:token",name:"ResetPassword",component:()=>s(()=>import("./ResetPassword-DLULn8em.js"),__vite__mapDeps([9,1,10]))}]}],Fe=[{path:"/employee",component:()=>s(()=>import("./EmployeeLayout-CdXfQ7W1.js"),__vite__mapDeps([11,1,12])),meta:{requiresAuth:!0,roles:["employee","manager","admin"]},children:[{path:"dashboard",name:"EmployeeDashboard",component:()=>s(()=>import("./Dashboard-BZSqFy6d.js"),__vite__mapDeps([13,1,14]))},{path:"attendance",name:"EmployeeAttendance",component:()=>s(()=>import("./Attendance-Umui2LRj.js"),__vite__mapDeps([15,1,16]))},{path:"leaves",name:"EmployeeLeaves",component:()=>s(()=>import("./Leaves-PeU9M4ib.js"),__vite__mapDeps([17,1,18]))},{path:"apply-leave",name:"ApplyLeave",component:()=>s(()=>import("./ApplyLeave-74lcRtkv.js"),__vite__mapDeps([19,1,20]))},{path:"payslips",name:"EmployeePayslips",component:()=>s(()=>import("./Payslips-9Kx_tAAv.js"),__vite__mapDeps([21,1,22]))},{path:"profile",name:"EmployeeProfile",component:()=>s(()=>import("./Profile-B1aedqOH.js"),__vite__mapDeps([23,1,24]))},{path:"/employee/tasks",name:"EmployeeTasks",component:()=>s(()=>import("./TaskBoard-CUgsPnDf.js"),__vite__mapDeps([25,1,26])),meta:{requiresAuth:!0,roles:["employee"],title:"My Tasks"}}]}],Be=[{path:"/manager",component:()=>s(()=>import("./ManagerLayout-D5AEi0c0.js"),__vite__mapDeps([27,1,28])),meta:{requiresAuth:!0,roles:["manager","admin"]},children:[{path:"dashboard",name:"ManagerDashboard",component:()=>s(()=>import("./Dashboard-CjLkeQPO.js"),__vite__mapDeps([29,1,30]))},{path:"employees",name:"EmployeeList",component:()=>s(()=>import("./EmployeeList-Ds1Nu_Xm.js"),__vite__mapDeps([31,1,32]))},{path:"attendance",name:"AttendanceMonitor",component:()=>s(()=>import("./AttendanceMonitor-bKIqlMkm.js"),__vite__mapDeps([33,1,34]))},{path:"leave-approvals",name:"LeaveApprovals",component:()=>s(()=>import("./LeaveApprovals-LzcL9vW-.js"),__vite__mapDeps([35,1,36]))},{path:"reports",name:"TeamReports",component:()=>s(()=>import("./TeamReports-C5GUWTBF.js"),__vite__mapDeps([37,1,38]))},{path:"productivity",name:"ProductivityMonitor",component:()=>s(()=>import("./ProductivityMonitor-B-UjjzX0.js"),__vite__mapDeps([39,1,40]))},{path:"Task",name:"AssignTask",component:()=>s(()=>import("./TaskForm-BkvFuA20.js"),__vite__mapDeps([41,1,25,26,42]))}]}],Ue=[{path:"/admin",component:()=>s(()=>import("./AdminLayout-Dc9VQZpG.js"),__vite__mapDeps([43,1,44])),meta:{requiresAuth:!0,roles:["admin"]},children:[{path:"",name:"AdminRoot",redirect:{name:"AdminDashboard"}},{path:"dashboard",name:"AdminDashboard",component:()=>s(()=>import("./Dashboard-DLB1nccL.js"),__vite__mapDeps([45,1,46]))},{path:"employees",name:"EmployeeManagement",component:()=>s(()=>import("./EmployeeManagement-Cudgp3m8.js"),__vite__mapDeps([47,1,48]))},{path:"payroll",name:"PayrollProcessing",component:()=>s(()=>import("./PayrollProcessing-BKacdVXa.js"),__vite__mapDeps([49,1,50]))},{path:"payslips",name:"PayslipGeneration",component:()=>s(()=>import("./PayslipGeneration-DrYRLn_U.js"),__vite__mapDeps([51,1,52]))},{path:"tax",name:"TaxConfiguration",component:()=>s(()=>import("./TaxConfiguration-BRYReFae.js"),__vite__mapDeps([53,1,54]))},{path:"reports",name:"AdminReports",component:()=>s(()=>import("./Reports-Cj84QLjA.js"),__vite__mapDeps([55,1,56]))},{path:"audit-logs",name:"AuditLogs",component:()=>s(()=>import("./AuditLogs-CcZn6ydA.js"),__vite__mapDeps([57,1,58]))},{path:"leaves",name:"LeaveManagement",component:()=>s(()=>import("./LeaveManagement-BkhQR8JD.js"),__vite__mapDeps([59,1,60]))},{path:"attendance",name:"Attendancemonitor",component:()=>s(()=>import("./AttendanceMonitor-B8iF178L.js"),__vite__mapDeps([61,1,62]))},{path:"settings",name:"AdminSettings",component:()=>s(()=>import("./Settings-Bt7hQxv9.js"),__vite__mapDeps([63,1,64]))}]}],ze=[{path:"/",redirect:"/auth"},{path:"/unauthorized",name:"Unauthorized",component:()=>s(()=>import("./Unauthorized-akrdceRY.js"),__vite__mapDeps([65,1,66]))}],He=[{path:"/tasks",name:"TaskBoard",component:()=>s(()=>import("./TaskAssigned-CY5T6seu.js"),__vite__mapDeps([67,1,25,26,68])),meta:{requiresAuth:!0,roles:["employee"],title:"Task Board"}},{path:"/tasks/my-tasks",name:"MyTasks",component:()=>s(()=>import("./TaskAssigned-CY5T6seu.js"),__vite__mapDeps([67,1,25,26,68])),meta:{requiresAuth:!0,roles:["employee"],title:"My Tasks"}}],Xe=[...ze,...qe,...Fe,...Be,...Ue,...He,{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>s(()=>import("./NotFound-DTGAnvTL.js"),__vite__mapDeps([69,1,70]))}],F=ve({history:ye("/"),routes:Xe});F.beforeEach((e,t,o)=>{var a,l;const r=q();if(e.meta.requiresAuth&&!r.isAuthenticated){o({name:"Login"});return}if(e.meta.roles&&!e.meta.roles.includes((a=r.user)==null?void 0:a.role)){o({name:"Unauthorized"});return}if(e.meta.guestOnly&&r.isAuthenticated){switch((l=r.user)==null?void 0:l.role){case"admin":o({name:"AdminDashboard"});break;case"manager":o({name:"ManagerDashboard"});break;default:o({name:"EmployeeDashboard"})}return}o()});const Ke="https://archangel.darth.cloud";g.defaults.baseURL=Ke;g.defaults.withCredentials=!0;const S=ge(je),We=Ee();S.use(We);S.use(F);S.use(Ie);const Ye=async()=>{try{await g.get("/sanctum/csrf-cookie"),console.log("CSRF cookie fetched successfully")}catch(e){console.warn("Failed to fetch CSRF cookie:",e)}g.interceptors.response.use(e=>e,e=>{var t;if(((t=e.response)==null?void 0:t.status)===401){const{useAuthStore:o}=require("./stores/auth");o().clearAuth(),window.location.pathname.includes("/login")||F.push({name:"login"})}return Promise.reject(e)}),S.mount("#app")};Ye();export{Se as _,q as u};
