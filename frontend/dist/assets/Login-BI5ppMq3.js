import{b as r,p as e,v as f,x as m,y as p,z as y,q as u,a as w,w as b,e as v,r as c,u as k,f as d}from"./vendor-COruVTVJ.js";import{_,u as h}from"./index-Djdf6BKf.js";const D={name:"Login",setup(){const i=h(),o=k(),l=c({email:"",password:""}),s=c(!1),t=async()=>{var n;s.value=!0;try{switch(await i.login(l.value),((n=i.user)==null?void 0:n.role)||"employee"){case"admin":await o.push("/admin/dashboard");break;case"manager":await o.push("/manager/dashboard");break;default:await o.push("/employee/dashboard")}}catch(a){console.error("Login failed:",a),alert("Login failed. Please check your credentials and try again.")}finally{s.value=!1}};return{form:l,loading:s,handleLogin:t,fillDemo:n=>{const a={employee:{email:"employee@payroll.com",password:"password"},manager:{email:"manager@payroll.com",password:"password"},admin:{email:"admin@payroll.com",password:"password"}};l.value={...a[n]},setTimeout(()=>t(),100)}}}},x={class:"login-page"},L={class:"login-container"},S={class:"form-group"},C={class:"form-group"},E=["disabled"],V={key:0},A={key:1},B={class:"login-footer"},q={class:"signup-link"},I={class:"demo-links"},M={class:"demo-buttons"};function N(i,o,l,s,t,g){const n=v("router-link");return d(),r("div",x,[e("div",L,[o[11]||(o[11]=e("div",{class:"login-header"},[e("h1",null,"Welcome Back"),e("p",{class:"subtitle"},"Sign in to your payroll account")],-1)),e("form",{onSubmit:o[2]||(o[2]=f((...a)=>s.handleLogin&&s.handleLogin(...a),["prevent"])),class:"login-form"},[e("div",S,[o[6]||(o[6]=e("label",{for:"email"},"Email Address",-1)),m(e("input",{id:"email","onUpdate:modelValue":o[0]||(o[0]=a=>s.form.email=a),type:"email",required:"",placeholder:"Enter your email",class:"form-input"},null,512),[[p,s.form.email]])]),e("div",C,[o[7]||(o[7]=e("label",{for:"password"},"Password",-1)),m(e("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=a=>s.form.password=a),type:"password",required:"",placeholder:"Enter your password",class:"form-input"},null,512),[[p,s.form.password]])]),e("button",{type:"submit",class:y(["login-btn",{loading:s.loading}]),disabled:s.loading},[s.loading?(d(),r("span",A,"Signing In...")):(d(),r("span",V,"Sign In"))],10,E)],32),e("div",B,[e("p",q,[o[9]||(o[9]=u(" Don't have an account? ",-1)),w(n,{to:"/auth/register",class:"link"},{default:b(()=>[...o[8]||(o[8]=[u("Sign up here",-1)])]),_:1})]),e("div",I,[o[10]||(o[10]=e("p",{class:"demo-title"},"Quick Access:",-1)),e("div",M,[e("button",{onClick:o[3]||(o[3]=a=>s.fillDemo("employee")),class:"demo-btn employee"},"Employee Demo"),e("button",{onClick:o[4]||(o[4]=a=>s.fillDemo("manager")),class:"demo-btn manager"},"Manager Demo"),e("button",{onClick:o[5]||(o[5]=a=>s.fillDemo("admin")),class:"demo-btn admin"},"Admin Demo")])])])])])}const P=_(D,[["render",N],["__scopeId","data-v-5a094a18"]]);export{P as default};
